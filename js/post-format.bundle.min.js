!function i(a,u,l){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,l)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(t,e,n){(function(e){"use strict";e.env.NODE_ENV="production",t("./utils/postformat_metaboxes")}).call(this,t("_process"))},{"./utils/postformat_metaboxes":2,_process:3}],2:[function(e,t,n){"use strict";function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.addEventListener("load",function(){var e=document.querySelector("#post-format-selector-0"),t=document.querySelector("#vikinger_meta_video"),n=document.querySelector("#vikinger_meta_audio"),r=document.querySelector("#vikinger_meta_gallery"),o=document.querySelector("#vikinger_upload_image_button"),i=document.querySelector("#vikinger-meta-gallery-images"),a=document.querySelector("#vikinger_gallery_ids"),u=[],l=document.createElement("div");l.classList.add("vikinger_gallery-images");function c(e){var t=document.createElement("div"),n=document.createElement("div"),r=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 12 12"),e.setAttribute("preserveAspectRatio","xMinYMin meet"),t.setAttribute("d","M12,9.6L9.6,12L6,8.399L2.4,12L0,9.6L3.6,6L0,2.4L2.4,0L6,3.6L9.6,0L12,2.4L8.399,6L12,9.6z"),e.appendChild(t),e}();return t.classList.add("vikinger_gallery-image"),n.classList.add("vikinger_remove-button"),r.classList.add("vikinger_remove-button-icon"),n.appendChild(r),t.appendChild(n),n.addEventListener("click",function(){!function(e){for(var t=0;t<u.length;t++){if(u[t].id===e)return u.splice(t,1)}}(e.id),f()}),t.style.background='url("'.concat(e.url,'") no-repeat center'),t.style.backgroundSize="cover",t}function s(){"video"===e.value?(t.style.display="block",r.style.display="none",n.style.display="none"):"gallery"===e.value?(r.style.display="block",t.style.display="none",n.style.display="none"):"audio"===e.value?(n.style.display="block",t.style.display="none",r.style.display="none"):(r.style.display="none",t.style.display="none",n.style.display="none")}var d,f=function(){if(i.innerHTML="",!u.length){var e=document.createElement("p");return e.classList.add("vikinger_gallery-info"),e.innerHTML="You haven't added any images to the gallery yet!",void i.appendChild(e)}l.innerHTML="";var t,n=p(u);try{for(n.s();!(t=n.n()).done;){var r=t.value;l.appendChild(c(r))}}catch(e){n.e(e)}finally{n.f()}i.appendChild(l),function(){var e,t=[],n=p(u);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.id)}}catch(e){n.e(e)}finally{n.f()}a.value=t.join(",")}()},y=wp.media({title:"Choose or upload images",button:{text:"Add Images to Gallery"},library:{type:"image"},multiple:!0});o.addEventListener("click",function(e){e.preventDefault(),y.open()}),y.on("select",function(){for(var e=y.state().get("selection").toJSON(),t=e.length-1;0<=t;t--)for(var n=e[t],r=0;r<u.length;r++){var o=u[r];if(n.id==o.id){e.splice(t,1);break}}u=u.concat(e),f()}),e.addEventListener("change",s),s(),d=f,""===a.value?d():function(e,t){var n={action:"vkmetaboxes_get_attachments_ajax",attachmentIDS:e};jQuery.post(ajaxurl,n,t)}(a.value,function(e){u=u.concat(e),d()})})},{}],3:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,s=[],d=!1,f=-1;function y(){d&&c&&(d=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!d){var e=l(y);d=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||d||l(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[1]);