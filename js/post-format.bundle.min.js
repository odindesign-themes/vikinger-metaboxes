!function i(a,l,u){function c(t,e){if(!l[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,l,u)}return l[t].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";e("./utils/postformat_metaboxes")},{"./utils/postformat_metaboxes":2}],2:[function(e,t,n){"use strict";function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e){var t=document.querySelector("#vikinger_meta_video"),n=document.querySelector("#vikinger_meta_audio"),r=document.querySelector("#vikinger_meta_gallery"),o=document.querySelector("#vikinger_upload_image_button"),i=document.querySelector("#vikinger-meta-gallery-images"),a=document.querySelector("#vikinger_gallery_ids"),l=[],u=document.createElement("div");u.classList.add("vikinger_gallery-images");function c(e){var t=document.createElement("div"),n=document.createElement("div"),r=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 12 12"),e.setAttribute("preserveAspectRatio","xMinYMin meet"),t.setAttribute("d","M12,9.6L9.6,12L6,8.399L2.4,12L0,9.6L3.6,6L0,2.4L2.4,0L6,3.6L9.6,0L12,2.4L8.399,6L12,9.6z"),e.appendChild(t),e}();return t.classList.add("vikinger_gallery-image"),n.classList.add("vikinger_remove-button"),r.classList.add("vikinger_remove-button-icon"),n.appendChild(r),t.appendChild(n),n.addEventListener("click",function(){!function(e){for(var t=0;t<l.length;t++){if(l[t].id===e)return l.splice(t,1)}}(e.id),f()}),t.style.background='url("'.concat(e.url,'") no-repeat center'),t.style.backgroundSize="cover",t}function s(){"video"===e.value?(t.style.display="block",r.style.display="none",n.style.display="none"):"gallery"===e.value?(r.style.display="block",t.style.display="none",n.style.display="none"):"audio"===e.value?(n.style.display="block",t.style.display="none",r.style.display="none"):(r.style.display="none",t.style.display="none",n.style.display="none")}var d,f=function(){if(i.innerHTML="",!l.length){var e=document.createElement("p");return e.classList.add("vikinger_gallery-info"),e.innerHTML="You haven't added any images to the gallery yet!",void i.appendChild(e)}u.innerHTML="";var t,n=y(l);try{for(n.s();!(t=n.n()).done;){var r=t.value;u.appendChild(c(r))}}catch(e){n.e(e)}finally{n.f()}i.appendChild(u),function(){var e,t=[],n=y(l);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.id)}}catch(e){n.e(e)}finally{n.f()}a.value=t.join(",")}()},v=wp.media({title:"Choose or upload images",button:{text:"Add Images to Gallery"},library:{type:"image"},multiple:!0});o.addEventListener("click",function(e){e.preventDefault(),v.open()}),v.on("select",function(){for(var e=v.state().get("selection").toJSON(),t=e.length-1;0<=t;t--)for(var n=e[t],r=0;r<l.length;r++){var o=l[r];if(n.id==o.id){e.splice(t,1);break}}l=l.concat(e),f()}),console.log(e),e.addEventListener("change",s),s(),d=f,""===a.value?d():function(e,t){var n={action:"vkmetaboxes_get_attachments_ajax",attachmentIDS:e};jQuery.post(ajaxurl,n,t)}(a.value,function(e){l=l.concat(e),d()})}window.addEventListener("load",function(){if(!document.querySelector("#post-format-selector-0"))var t=window.setInterval(function(){var e=document.querySelector("#post-format-selector-0");e&&(r(e),window.clearInterval(t))},1e3)})},{}]},{},[1]);